@function gta($name, $count) {
    $r: "";
    @for $i from 1 through $count {
        @if 0 != $i {
            $r: $r + " ";
        }
        $r: $r + $name;
    }
    @return $r;
}

.js-sheet {
    font-size: 1.4rem;

    h1, h2 {
        margin: 0;
    }
    .jui-page:nth-child(1) {
        display: grid;
        grid-gap: 5mm;
        grid-template-columns: repeat(20, 1fr);
        grid-template-rows: 1cm min-content 1cm 1.2cm 1.2cm 1cm 1.2cm .5cm 1fr .5cm 1fr .5cm 2cm;
        grid-template-areas:
            "#{gta(page-title, 20)}"
            "#{gta(about, 10)} #{gta(description, 10)}"
            "#{gta(attribute-title, 20)}"
            "#{gta(attribute-strength, 5)} #{gta(attribute-agility, 5)} #{gta(attribute-dexterity, 5)} #{gta(attribute-constitution, 5)}"
            "#{gta(attribute-courage, 5)} #{gta(attribute-intelligence, 5)} #{gta(attribute-intuition, 5)} #{gta(attribute-charisma, 5)}"
            "#{gta(skill-title, 20)}"
            "#{gta(skill-melee, 4)} #{gta(skill-range, 4)} #{gta(skill-physical, 4)} #{gta(skill-mental, 4)} #{gta(skill-magic, 4)}"
            "#{gta(advantages-title, 10)} #{gta(info, 10)}"
            "#{gta(advantages, 10)} #{gta(info, 10)}"
            "#{gta(disadvantages-title, 10)} #{gta(info, 10)}"
            "#{gta(disadvantages, 10)} #{gta(info, 10)}"
            "#{gta(health-title, 10)} #{gta(mana-title, 10)}"
            "#{gta(health, 10)} #{gta(mana, 10)}";

        @each $area in (page-title, about, description, attribute-title, attribute-strength, attribute-agility, attribute-dexterity, attribute-constitution,
        attribute-courage, attribute-intelligence, attribute-intuition, attribute-charisma, skill-title, skill-melee, skill-range, skill-physical,
        skill-mental, skill-magic, advantages-title, advantages, disadvantages-title, disadvantages, info, health-title, health, mana-title, mana) {
            .#{$area} {
                grid-area: $area;
            }
        }
    }

    .about {
        display: grid;
        grid-gap: 0 5mm;
        grid-template-columns: min-content auto;
        grid-auto-rows: auto;
        align-items: center;


        label {
            display: contents;

            input {
                border: none;
                line-height: 3rem;
                padding: 0 2mm;
                border-bottom: 1px solid var(--border-color);
            }
        }
    }

    .description {
        label {
            display: block;
            width: 100%;
            height: 100%;
            position: relative;

            span {
                position: absolute;
                top: -2rem;
                left: 0;
            }

            textarea {
                width: 100%;
                height: 100%;
            }
        }
    }

    strong {
        line-height: 2rem;
        margin-bottom: .5rem;
    }

    fieldset {
        display: flex;
        flex-direction: column;
        justify-content: center;
        text-align: center;
        border: 0;
        padding: 0;
        margin: 0;
    }

    textarea {
        min-height: 10rem;
        line-height: calc(3rem + 1px);
        border: none;
        background: linear-gradient(
                to bottom,
                transparent 0%,
                transparent 3rem,
                var(--border-color) 3rem,
                var(--border-color) calc(3rem + 1px)
        );
        background-size: 100% calc(3rem + 1px);
        resize: none;
    }

    .health, .mana {
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        grid-auto-rows: auto;

        > span {
            grid-row: 1;

            grid-column: auto / span 4;
            //grid-column-end: span 2;
        }

        .jui-radio-range {
            display: contents;

            span {
                grid-row: 3;
                width: 1rem;
                height: 1rem;

                &:nth-child(5n) {
                    width: 3rem;
                    height: 3rem;
                    grid-row: 2;
                    grid-column: auto / span 4;
                    //grid-column-end: span 2;
                }

                //&:nth-child(5n - 2), &:nth-child(5n - 1) {
                //    grid-row: 3;
                //}
                //
                //&:nth-child(5n - 4), &:nth-child(5n - 3) {
                //    grid-row: 4;
                //}
            }
        }
    }
}
