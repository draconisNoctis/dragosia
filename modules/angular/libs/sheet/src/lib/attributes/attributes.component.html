<form [formGroup]="form">
    <div>
        <ng-container *ngIf="mode === 'range'">
            <span></span>
            <ul class="legend">
                <li>+{{ 1 | costs }}</li>
                <li>+{{ 2 | costs }}</li>
                <li>+{{ 3 | costs }}</li>
                <li>+{{ 4 | costs }}</li>
                <li>+{{ 5 | costs }}</li>
            </ul>
        </ng-container>
        <label i18n>Strength</label>
        <jui-radio-range deselectable [readonly]="mode === 'button'" [min]="mins.strength" formControlName="strength"></jui-radio-range>
        <div *ngIf="mode === 'button'" class="button-wrapper">
            <span i18n *ngIf="form.value.strength < 5">{{ (form.value.strength + 1) | costs:factor }} EP</span>
            <span *ngIf="form.value.strength >= 5"></span>
            <button mat-icon-button (click)="add('strength')" [disabled]="form.value.strength >= 5 || pointsAvailable < ((form.value.strength + 1) | costs:factor)"><mat-icon>add</mat-icon></button>
        </div>
        <label i18n>Agility</label>
        <jui-radio-range deselectable [readonly]="mode === 'button'" [min]="mins.agility" formControlName="agility"></jui-radio-range>
        <div *ngIf="mode === 'button'" class="button-wrapper">
            <span i18n *ngIf="form.value.agility < 5">{{ (form.value.agility + 1) | costs:factor }} EP</span>
            <span *ngIf="form.value.agility >= 5"></span>
            <button mat-icon-button (click)="add('agility')" [disabled]="form.value.agility >= 5 || pointsAvailable < ((form.value.agility + 1) | costs:factor)"><mat-icon>add</mat-icon></button>
        </div>
        <label i18n>Dexterity</label>
        <jui-radio-range deselectable [readonly]="mode === 'button'" [min]="mins.dexterity" formControlName="dexterity"></jui-radio-range>
        <div *ngIf="mode === 'button'" class="button-wrapper">
            <span i18n *ngIf="form.value.dexterity < 5">{{ (form.value.dexterity + 1) | costs:factor }} EP</span>
            <span *ngIf="form.value.dexterity >= 5"></span>
            <button mat-icon-button (click)="add('dexterity')" [disabled]="form.value.dexterity >= 5 || pointsAvailable < ((form.value.dexterity + 1) | costs:factor)"><mat-icon>add</mat-icon></button>
        </div>
        <label i18n>Constitution</label>
        <jui-radio-range deselectable [readonly]="mode === 'button'" [min]="mins.constitution" formControlName="constitution"></jui-radio-range>
        <div *ngIf="mode === 'button'" class="button-wrapper">
            <span i18n *ngIf="form.value.constitution < 5">{{ (form.value.constitution + 1) | costs:factor }} EP</span>
            <span *ngIf="form.value.constitution >= 5"></span>
            <button mat-icon-button (click)="add('constitution')" [disabled]="form.value.constitution >= 5 || pointsAvailable < ((form.value.constitution + 1) | costs:factor)"><mat-icon>add</mat-icon></button>
        </div>
        <label i18n>Courage</label>
        <jui-radio-range deselectable [readonly]="mode === 'button'" [min]="mins.courage" formControlName="courage"></jui-radio-range>
        <div *ngIf="mode === 'button'" class="button-wrapper">
            <span i18n *ngIf="form.value.courage < 5">{{ (form.value.courage + 1) | costs:factor }} EP</span>
            <span *ngIf="form.value.courage >= 5"></span>
            <button mat-icon-button (click)="add('courage')" [disabled]="form.value.courage >= 5 || pointsAvailable < ((form.value.courage + 1) | costs:factor)"><mat-icon>add</mat-icon></button>
        </div>
        <label i18n>Intelligence</label>
        <jui-radio-range deselectable [readonly]="mode === 'button'" [min]="mins.intelligence" formControlName="intelligence"></jui-radio-range>
        <div *ngIf="mode === 'button'" class="button-wrapper">
            <span i18n *ngIf="form.value.intelligence < 5">{{ (form.value.intelligence + 1) | costs:factor }} EP</span>
            <span *ngIf="form.value.intelligence >= 5"></span>
            <button mat-icon-button (click)="add('intelligence')" [disabled]="form.value.intelligence >= 5 || pointsAvailable < ((form.value.intelligence + 1) | costs:factor)"><mat-icon>add</mat-icon></button>
        </div>
        <label i18n>Intuition</label>
        <jui-radio-range deselectable [readonly]="mode === 'button'" [min]="mins.intuition" formControlName="intuition"></jui-radio-range>
        <div *ngIf="mode === 'button'" class="button-wrapper">
            <span i18n *ngIf="form.value.intuition < 5">{{ (form.value.intuition + 1) | costs:factor }} EP</span>
            <span *ngIf="form.value.intuition >= 5"></span>
            <button mat-icon-button (click)="add('intuition')" [disabled]="form.value.intuition >= 5 || pointsAvailable < ((form.value.intuition + 1) | costs:factor)"><mat-icon>add</mat-icon></button>
        </div>
        <label i18n>Charisma</label>
        <jui-radio-range deselectable [readonly]="mode === 'button'" [min]="mins.charisma" formControlName="charisma"></jui-radio-range>
        <div *ngIf="mode === 'button'" class="button-wrapper">
            <span i18n *ngIf="form.value.charisma < 5">{{ (form.value.charisma + 1) | costs:factor }} EP</span>
            <span *ngIf="form.value.charisma >= 5"></span>
            <button mat-icon-button (click)="add('charisma')" [disabled]="form.value.charisma >= 5 || pointsAvailable < ((form.value.charisma + 1) | costs:factor)"><mat-icon>add</mat-icon></button>
        </div>
    </div>
</form>
